package ex49flickrPhotoSearch;

import org.json.simple.parser.ParseException;
import static org.junit.Assert.*;
import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;
import org.mockito.Mockito;
import java.io.IOException;
import java.nio.file.Files;
import java.nio.file.Paths;
import static org.mockito.Mockito.when;

public class FlickrPhotoSearchTest {
    @Rule
    public ExpectedException exception = ExpectedException.none();

    @Test
    public void IntegrationTest_Search_ValidStringAndFeed_ValidHtmlGenerated() throws Exception {
        //arrange
        String search = "cocker spaniel";
        FlickrPhotoSearch photos = new FlickrPhotoSearch();
        FlickrFeedGetter f = new FlickrFeedGetter();

        //act
        photos.search(search, f);
    }

    @Test
    public void IntegrationTest_Search_EmptyStringAndValidFeed_ValidHtmlGenerated() throws Exception {
        //arrange
        //An empty search string is valid. It just returns all pictures.
        String search = "";
        FlickrPhotoSearch photos = new FlickrPhotoSearch();
        FlickrFeedGetter f = new FlickrFeedGetter();

        //act
        photos.search(search, f);
    }

    @Test
    public void Search_NullString_ExceptionThrown() throws Exception {
        //arrange
        String search = null;
        FlickrPhotoSearch photos = new FlickrPhotoSearch();
        PictureFeedGetter pictureFeedMock = Mockito.mock(PictureFeedGetter.class);

        //assert
        exception.expect(IllegalArgumentException.class);

        //act
        photos.search(search, pictureFeedMock);
    }

    @Test
    public void Search_EmptyFeed_ExceptionThrown() throws Exception{
        //arrange
        String search = "terrier";
        FlickrPhotoSearch photos = new FlickrPhotoSearch();
        PictureFeedGetter pictureFeedMock = Mockito.mock(PictureFeedGetter.class);
        when(pictureFeedMock.getPictureFeed(search)).thenReturn("");

        //assert
        exception.expect(ParseException.class);  //Json Parser exception

        //act
        photos.search(search, pictureFeedMock);
    }

    @Test
    public void Search_NullFeed_ExceptionThrown() throws Exception{
        //arrange
        String search = "terrier";
        FlickrPhotoSearch photos = new FlickrPhotoSearch();

        //assert
        exception.expect(IllegalArgumentException.class);

        //act
        photos.search(search, null);
    }

    @Test
    public void Search_IOException_ExceptionThrown() throws Exception{
        //arrange
        String search = "terrier";
        FlickrPhotoSearch photos = new FlickrPhotoSearch();
        PictureFeedGetter pictureFeedMock = Mockito.mock(PictureFeedGetter.class);
        when(pictureFeedMock.getPictureFeed(search)).thenThrow(IOException.class);

        //assert
        exception.expect(IOException.class);

        //act
        photos.search(search, pictureFeedMock);
    }

    @Test
    public void Parse_ValidString_ParsedCorrectly()throws Exception{
        //arrange
        String search = "terrier";
        FlickrPhotoSearch photos = new FlickrPhotoSearch();
        PictureFeedGetter pictureFeedMock = Mockito.mock(PictureFeedGetter.class);
        String staticFeed = "{\t\t\"title\": \"Recent Uploads tagged cockerspaniel\",\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/tags\\/cockerspaniel\\/\",\t\t\"description\": \"\",\t\t\"modified\": \"2017-09-13T03:56:25Z\",\t\t\"generator\": \"https:\\/\\/www.flickr.com\",\t\t\"items\": [\t   {\t\t\t\"title\": \"8623169780\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/154690074@N07\\/36361211164\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4368\\/36361211164_a0b18da43b_m.jpg\"},\t\t\t\"date_taken\": \"2013-03-31T04:12:36-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/154690074@N07\\/\\\">wxobqrqvzrkqdhrzjuar<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/154690074@N07\\/36361211164\\/\\\" title=\\\"8623169780\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4368\\/36361211164_a0b18da43b_m.jpg\\\" width=\\\"160\\\" height=\\\"240\\\" alt=\\\"8623169780\\\" \\/><\\/a><\\/p> <p>Photo by 76731057@N03<\\/p>\",\t\t\t\"published\": \"2017-09-13T03:56:25Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"wxobqrqvzrkqdhrzjuar\\\")\",\t\t\t\"author_id\": \"154690074@N07\",\t\t\t\"tags\": \"barkley baskets blackandwhitebarkley blackandwhitecockerspaniel brindle cockerspaniel daisies daisy dogs easter easterdogs eastereggs harry terrier tulips family dog running cats group pets ball puppy westminster westvirginia\"\t   },\t   {\t\t\t\"title\": \"Cocker spaniel, cute\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/spangles44\\/37018048132\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4369\\/37018048132_82f8721f58_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-12T18:54:26-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/spangles44\\/\\\">Spangles44 The cheerful photographer!!!!!<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/spangles44\\/37018048132\\/\\\" title=\\\"Cocker spaniel, cute\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4369\\/37018048132_82f8721f58_m.jpg\\\" width=\\\"187\\\" height=\\\"240\\\" alt=\\\"Cocker spaniel, cute\\\" \\/><\\/a><\\/p> <p>One of the cutest \\ud83d\\udc3e little dogs ever, always happy. I am on the road with dodgy wifi\\ud83d\\ude29 just wanted to say hi<\\/p>\",\t\t\t\"published\": \"2017-09-12T17:02:04Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Spangles44 The cheerful photographer!!!!!\\\")\",\t\t\t\"author_id\": \"10429597@N05\",\t\t\t\"tags\": \"cocker cute lobsterit spaniel cockerspaniel\"\t   },\t   {\t\t\t\"title\": \"Cocker Sleeper\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/corbin-adler\\/37045663721\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4416\\/37045663721_5948ca7163_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-11T19:43:05-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/corbin-adler\\/\\\">Corbicus Maximus<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/corbin-adler\\/37045663721\\/\\\" title=\\\"Cocker Sleeper\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4416\\/37045663721_5948ca7163_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Cocker Sleeper\\\" \\/><\\/a><\\/p> <p>5 minute recharge.<\\/p>\",\t\t\t\"published\": \"2017-09-12T15:13:05Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Corbicus Maximus\\\")\",\t\t\t\"author_id\": \"79865996@N00\",\t\t\t\"tags\": \"snapseed blackandwhite iphone6s sleep black dog cockerspaniel\"\t   },\t   {\t\t\t\"title\": \"IMG_1505164121445\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/144817567@N06\\/36984162686\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4442\\/36984162686_f2a9effb8c_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-11T14:09:49-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/144817567@N06\\/\\\">falkirk1975<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/144817567@N06\\/36984162686\\/\\\" title=\\\"IMG_1505164121445\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4442\\/36984162686_f2a9effb8c_m.jpg\\\" width=\\\"153\\\" height=\\\"240\\\" alt=\\\"IMG_1505164121445\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-11T21:09:49Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"falkirk1975\\\")\",\t\t\t\"author_id\": \"144817567@N06\",\t\t\t\"tags\": \"cockerspaniel dog tummelvalley\"\t   },\t   {\t\t\t\"title\": \"The observer\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36956977666\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4333\\/36956977666_c7f0373fd1_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-10T12:53:12-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/hverdagsfoto\\/\\\">Christinas_fotografi<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36956977666\\/\\\" title=\\\"The observer\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4333\\/36956977666_c7f0373fd1_m.jpg\\\" width=\\\"160\\\" height=\\\"240\\\" alt=\\\"The observer\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-10T16:04:44Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Christinas_fotografi\\\")\",\t\t\t\"author_id\": \"65967100@N02\",\t\t\t\"tags\": \"softtones naturallight observing cockerspaniel pet animal dog\"\t   },\t   {\t\t\t\"title\": \"High key\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/p-aguilera\\/37139300155\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4412\\/37139300155_68ea90cafc_m.jpg\"},\t\t\t\"date_taken\": \"2017-08-28T10:55:19-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/p-aguilera\\/\\\">Piagor<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/p-aguilera\\/37139300155\\/\\\" title=\\\"High key\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4412\\/37139300155_68ea90cafc_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"High key\\\" \\/><\\/a><\\/p> <p>OLYMPUS DIGITAL CAMERA<\\/p>\",\t\t\t\"published\": \"2017-09-10T09:41:13Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Piagor\\\")\",\t\t\t\"author_id\": \"135747396@N07\",\t\t\t\"tags\": \"highkey cockerspaniel dog pets animal blancoynegro olympusem5markii olympus75300mmf4867\"\t   },\t   {\t\t\t\"title\": \"Oli (Explored 09-09-17)\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/schooly1\\/36927706792\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4358\\/36927706792_dfa1efa512_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T15:33:47-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/schooly1\\/\\\">Anthony de Schoolmeester<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/schooly1\\/36927706792\\/\\\" title=\\\"Oli (Explored 09-09-17)\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4358\\/36927706792_dfa1efa512_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Oli (Explored 09-09-17)\\\" \\/><\\/a><\\/p> <p>Oli takes in the view of Gower from Pembrey Dunes over the recent Bank Holiday weekend.<\\/p>\",\t\t\t\"published\": \"2017-09-08T07:25:30Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Anthony de Schoolmeester\\\")\",\t\t\t\"author_id\": \"30447469@N07\",\t\t\t\"tags\": \"oli spaniel cockerspaniel blueroan clouds dog fujixt2 fujinonxf1004004556rlmoiswr pembreycountrypark cefnsidan dunes englishcockerspaniel happydog\"\t   },\t   {\t\t\t\"title\": \"Golden Moment\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/33546386@N03\\/36253885324\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4427\\/36253885324_c8bac42c45_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-03T15:15:59-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/33546386@N03\\/\\\">excellentzebu1050<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/33546386@N03\\/36253885324\\/\\\" title=\\\"Golden Moment\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4427\\/36253885324_c8bac42c45_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Golden Moment\\\" \\/><\\/a><\\/p> <p>hello everyone<br \\/> <br \\/> a smile for you from my sweet Dog Golden Moment !<br \\/> and Thanks for all the comments last days<br \\/> much appreciated<br \\/> greetings all the animals on the farm , Caroline<\\/p>\",\t\t\t\"published\": \"2017-09-07T19:13:54Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"excellentzebu1050\\\")\",\t\t\t\"author_id\": \"33546386@N03\",\t\t\t\"tags\": \"dog doggy cockerspaniel cocker spaniel animal pet animalportraits closeup farm outdoor coth5\"\t   },\t   {\t\t\t\"title\": \"Leia just can't be bothered right now.\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123830\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4331\\/36652123830_808b1210b1_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T21:18:10-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/apardavila\\/\\\">apardavila<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123830\\/\\\" title=\\\"Leia just can't be bothered right now.\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4331\\/36652123830_808b1210b1_m.jpg\\\" width=\\\"240\\\" height=\\\"178\\\" alt=\\\"Leia just can't be bothered right now.\\\" \\/><\\/a><\\/p> <p>Leia just can't be bothered right now.<\\/p>\",\t\t\t\"published\": \"2017-09-05T18:28:53Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"apardavila\\\")\",\t\t\t\"author_id\": \"63704136@N00\",\t\t\t\"tags\": \"americancockerspaniel leia cockerspaniel dog\"\t   },\t   {\t\t\t\"title\": \"Leia just can't be bothered right now.\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36214070574\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4369\\/36214070574_6a61a8e244_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T21:18:08-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/apardavila\\/\\\">apardavila<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36214070574\\/\\\" title=\\\"Leia just can't be bothered right now.\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4369\\/36214070574_6a61a8e244_m.jpg\\\" width=\\\"240\\\" height=\\\"185\\\" alt=\\\"Leia just can't be bothered right now.\\\" \\/><\\/a><\\/p> <p>Leia just can't be bothered right now.<\\/p>\",\t\t\t\"published\": \"2017-09-05T18:28:53Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"apardavila\\\")\",\t\t\t\"author_id\": \"63704136@N00\",\t\t\t\"tags\": \"americancockerspaniel leia cockerspaniel dog\"\t   },\t   {\t\t\t\"title\": \"Leia just can't be bothered right now.\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123900\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4412\\/36652123900_127cc4fcb8_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T21:18:12-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/apardavila\\/\\\">apardavila<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123900\\/\\\" title=\\\"Leia just can't be bothered right now.\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4412\\/36652123900_127cc4fcb8_m.jpg\\\" width=\\\"240\\\" height=\\\"170\\\" alt=\\\"Leia just can't be bothered right now.\\\" \\/><\\/a><\\/p> <p>Leia just can't be bothered right now.<\\/p>\",\t\t\t\"published\": \"2017-09-05T18:28:52Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"apardavila\\\")\",\t\t\t\"author_id\": \"63704136@N00\",\t\t\t\"tags\": \"americancockerspaniel leia cockerspaniel dog\"\t   },\t   {\t\t\t\"title\": \"Sourpuss\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/36877935822\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4359\\/36877935822_44121dbe5a_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-03T17:01:11-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/pauerkorde\\/\\\">PauerKorde Photo<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/36877935822\\/\\\" title=\\\"Sourpuss\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4359\\/36877935822_44121dbe5a_m.jpg\\\" width=\\\"240\\\" height=\\\"180\\\" alt=\\\"Sourpuss\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-05T18:09:36Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"PauerKorde Photo\\\")\",\t\t\t\"author_id\": \"28445264@N04\",\t\t\t\"tags\": \"canine dog cocker cockerspaniel spaniel obgcockerspanielrescue\"\t   },\t   {\t\t\t\"title\": \"Contemplative\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/37048455415\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4377\\/37048455415_02bc453075_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-03T17:01:27-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/pauerkorde\\/\\\">PauerKorde Photo<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/37048455415\\/\\\" title=\\\"Contemplative\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4377\\/37048455415_02bc453075_m.jpg\\\" width=\\\"180\\\" height=\\\"240\\\" alt=\\\"Contemplative\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-05T18:09:36Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"PauerKorde Photo\\\")\",\t\t\t\"author_id\": \"28445264@N04\",\t\t\t\"tags\": \"canine dog cocker cockerspaniel spaniel obgcockerspanielrescue\"\t   },\t   {\t\t\t\"title\": \"If I only knew what he is thinking\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36192665694\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4405\\/36192665694_aa2fc4ecdf_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-04T19:58:09-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/hverdagsfoto\\/\\\">Christinas_fotografi<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36192665694\\/\\\" title=\\\"If I only knew what he is thinking\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4405\\/36192665694_aa2fc4ecdf_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"If I only knew what he is thinking\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-04T18:59:50Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Christinas_fotografi\\\")\",\t\t\t\"author_id\": \"65967100@N02\",\t\t\t\"tags\": \"pet dog animal cockerspaniel petphotography\"\t   },\t   {\t\t\t\"title\": \"Oscar\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/freshshoots\\/36186769824\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4411\\/36186769824_987760ce2a_m.jpg\"},\t\t\t\"date_taken\": \"2017-07-07T17:35:43-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/freshshoots\\/\\\">KatrinaW Photography<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/freshshoots\\/36186769824\\/\\\" title=\\\"Oscar\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4411\\/36186769824_987760ce2a_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Oscar\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-04T14:00:34Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"KatrinaW Photography\\\")\",\t\t\t\"author_id\": \"63462784@N04\",\t\t\t\"tags\": \"chicksands cocker oscar cockerspaniel spaniel dog photography bedfordshire photographer\"\t   },\t   {\t\t\t\"title\": \"Waiting (some more)\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/31234240@N08\\/36163967654\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4349\\/36163967654_f451d68a25_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-02T16:36:30-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/31234240@N08\\/\\\">ameschen<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/31234240@N08\\/36163967654\\/\\\" title=\\\"Waiting (some more)\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4349\\/36163967654_f451d68a25_m.jpg\\\" width=\\\"240\\\" height=\\\"143\\\" alt=\\\"Waiting (some more)\\\" \\/><\\/a><\\/p> <p>I love his paws, holding back the curtains. The curtains, however, and window sill, are not so crazy about it.<br \\/> <br \\/> Jack is a rescue from the Oldies But Goodies Cocker Spaniel Rescue, Newington, Va.<br \\/> <br \\/> jackscreen0902171636e<\\/p>\",\t\t\t\"published\": \"2017-09-03T13:28:30Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"ameschen\\\")\",\t\t\t\"author_id\": \"31234240@N08\",\t\t\t\"tags\": \"cockerspaniel cocker oldiesbutgoodies oldiesbutgoodiescockerspaniel screen\"\t   },\t   {\t\t\t\"title\": \"PupAid 2017: Primrose Hill, London: 02-September 2017\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/asw909\\/36188598563\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4376\\/36188598563_629f748b31_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-02T15:00:01-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/asw909\\/\\\">amodelofcontrol<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/asw909\\/36188598563\\/\\\" title=\\\"PupAid 2017: Primrose Hill, London: 02-September 2017\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4376\\/36188598563_629f748b31_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"PupAid 2017: Primrose Hill, London: 02-September 2017\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-03T10:56:38Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"amodelofcontrol\\\")\",\t\t\t\"author_id\": \"65226395@N00\",\t\t\t\"tags\": \"pupaid2017 primrosehill london dogshow cockerspaniel\"\t   },\t   {\t\t\t\"title\": \"Casper & Rupert\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/boycotts\\/36582886840\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4424\\/36582886840_b41d33857e_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T15:03:29-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/boycotts\\/\\\">iRobbo (aka Boycotts)<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/boycotts\\/36582886840\\/\\\" title=\\\"Casper &amp; Rupert\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4424\\/36582886840_b41d33857e_m.jpg\\\" width=\\\"240\\\" height=\\\"192\\\" alt=\\\"Casper &amp; Rupert\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-02T14:29:50Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"iRobbo (aka Boycotts)\\\")\",\t\t\t\"author_id\": \"45227605@N05\",\t\t\t\"tags\": \"casper rupert cockerspaniel hatfieldforest\"\t   },\t   {\t\t\t\"title\": \"Dear old Snoopy\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/150333432@N05\\/36569684730\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4347\\/36569684730_2115b216fc_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T13:33:23-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/150333432@N05\\/\\\">martinblack18<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/150333432@N05\\/36569684730\\/\\\" title=\\\"Dear old Snoopy\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4347\\/36569684730_2115b216fc_m.jpg\\\" width=\\\"240\\\" height=\\\"192\\\" alt=\\\"Dear old Snoopy\\\" \\/><\\/a><\\/p> <p>A great character who has the sweetest nature. Poor chap is having eye trouble at the moment, hope he will soon be fully recovered.<\\/p>\",\t\t\t\"published\": \"2017-09-01T20:57:36Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"martinblack18\\\")\",\t\t\t\"author_id\": \"150333432@N05\",\t\t\t\"tags\": \"cockerspaniel mansbestfriend\"\t   },\t   {\t\t\t\"title\": \"Friends I'm going on holiday to Nana @sandy_butchart for 2 weeks!! I'm excited but mum is sad. I'll probably be a bit quiet for a while \\ud83d\\udc4b\\ud83d\\udc36\\ud83c\\udfe1 #cockerspaniel #holiday\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/98036363@N07\\/36956750265\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4343\\/36956750265_ca2a1451c1_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T03:42:13-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/98036363@N07\\/\\\">gem_needham<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/98036363@N07\\/36956750265\\/\\\" title=\\\"Friends I'm going on holiday to Nana @sandy_butchart for 2 weeks!! I'm excited but mum is sad. I'll probably be a bit quiet for a while \\ud83d\\udc4b\\ud83d\\udc36\\ud83c\\udfe1 #cockerspaniel #holiday\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4343\\/36956750265_ca2a1451c1_m.jpg\\\" width=\\\"240\\\" height=\\\"240\\\" alt=\\\"Friends I'm going on holiday to Nana @sandy_butchart for 2 weeks!! I'm excited but mum is sad. I'll probably be a bit quiet for a while \\ud83d\\udc4b\\ud83d\\udc36\\ud83c\\udfe1 #cockerspaniel #holiday\\\" \\/><\\/a><\\/p> <p>via Instagram <a href=\\\"http:\\/\\/ift.tt\\/2gvI6am\\\" rel=\\\"nofollow\\\">ift.tt\\/2gvI6am<\\/a><\\/p>\",\t\t\t\"published\": \"2017-09-01T10:42:13Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"gem_needham\\\")\",\t\t\t\"author_id\": \"98036363@N07\",\t\t\t\"tags\": \"cockerspaniel\"\t   }        ]}\n";
        int expectedLinks = 20;

        //act
        when(pictureFeedMock.getPictureFeed(search)).thenReturn(staticFeed);
        photos.search(search, pictureFeedMock);

        //assert
        int actualLinks = photos.getNumberOfLinks();
        assertEquals(expectedLinks,actualLinks);
    }

    @Test
    public void Display_ValidStringAndFeed_HtmlFileGenerated()throws Exception{
        //arrange
        String search = "terrier";
        FlickrPhotoSearch photos = new FlickrPhotoSearch();
        PictureFeedGetter pictureFeedMock = Mockito.mock(PictureFeedGetter.class);
        String staticFeed = "{\t\t\"title\": \"Recent Uploads tagged cockerspaniel\",\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/tags\\/cockerspaniel\\/\",\t\t\"description\": \"\",\t\t\"modified\": \"2017-09-13T03:56:25Z\",\t\t\"generator\": \"https:\\/\\/www.flickr.com\",\t\t\"items\": [\t   {\t\t\t\"title\": \"8623169780\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/154690074@N07\\/36361211164\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4368\\/36361211164_a0b18da43b_m.jpg\"},\t\t\t\"date_taken\": \"2013-03-31T04:12:36-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/154690074@N07\\/\\\">wxobqrqvzrkqdhrzjuar<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/154690074@N07\\/36361211164\\/\\\" title=\\\"8623169780\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4368\\/36361211164_a0b18da43b_m.jpg\\\" width=\\\"160\\\" height=\\\"240\\\" alt=\\\"8623169780\\\" \\/><\\/a><\\/p> <p>Photo by 76731057@N03<\\/p>\",\t\t\t\"published\": \"2017-09-13T03:56:25Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"wxobqrqvzrkqdhrzjuar\\\")\",\t\t\t\"author_id\": \"154690074@N07\",\t\t\t\"tags\": \"barkley baskets blackandwhitebarkley blackandwhitecockerspaniel brindle cockerspaniel daisies daisy dogs easter easterdogs eastereggs harry terrier tulips family dog running cats group pets ball puppy westminster westvirginia\"\t   },\t   {\t\t\t\"title\": \"Cocker spaniel, cute\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/spangles44\\/37018048132\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4369\\/37018048132_82f8721f58_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-12T18:54:26-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/spangles44\\/\\\">Spangles44 The cheerful photographer!!!!!<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/spangles44\\/37018048132\\/\\\" title=\\\"Cocker spaniel, cute\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4369\\/37018048132_82f8721f58_m.jpg\\\" width=\\\"187\\\" height=\\\"240\\\" alt=\\\"Cocker spaniel, cute\\\" \\/><\\/a><\\/p> <p>One of the cutest \\ud83d\\udc3e little dogs ever, always happy. I am on the road with dodgy wifi\\ud83d\\ude29 just wanted to say hi<\\/p>\",\t\t\t\"published\": \"2017-09-12T17:02:04Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Spangles44 The cheerful photographer!!!!!\\\")\",\t\t\t\"author_id\": \"10429597@N05\",\t\t\t\"tags\": \"cocker cute lobsterit spaniel cockerspaniel\"\t   },\t   {\t\t\t\"title\": \"Cocker Sleeper\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/corbin-adler\\/37045663721\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4416\\/37045663721_5948ca7163_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-11T19:43:05-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/corbin-adler\\/\\\">Corbicus Maximus<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/corbin-adler\\/37045663721\\/\\\" title=\\\"Cocker Sleeper\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4416\\/37045663721_5948ca7163_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Cocker Sleeper\\\" \\/><\\/a><\\/p> <p>5 minute recharge.<\\/p>\",\t\t\t\"published\": \"2017-09-12T15:13:05Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Corbicus Maximus\\\")\",\t\t\t\"author_id\": \"79865996@N00\",\t\t\t\"tags\": \"snapseed blackandwhite iphone6s sleep black dog cockerspaniel\"\t   },\t   {\t\t\t\"title\": \"IMG_1505164121445\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/144817567@N06\\/36984162686\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4442\\/36984162686_f2a9effb8c_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-11T14:09:49-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/144817567@N06\\/\\\">falkirk1975<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/144817567@N06\\/36984162686\\/\\\" title=\\\"IMG_1505164121445\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4442\\/36984162686_f2a9effb8c_m.jpg\\\" width=\\\"153\\\" height=\\\"240\\\" alt=\\\"IMG_1505164121445\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-11T21:09:49Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"falkirk1975\\\")\",\t\t\t\"author_id\": \"144817567@N06\",\t\t\t\"tags\": \"cockerspaniel dog tummelvalley\"\t   },\t   {\t\t\t\"title\": \"The observer\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36956977666\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4333\\/36956977666_c7f0373fd1_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-10T12:53:12-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/hverdagsfoto\\/\\\">Christinas_fotografi<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36956977666\\/\\\" title=\\\"The observer\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4333\\/36956977666_c7f0373fd1_m.jpg\\\" width=\\\"160\\\" height=\\\"240\\\" alt=\\\"The observer\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-10T16:04:44Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Christinas_fotografi\\\")\",\t\t\t\"author_id\": \"65967100@N02\",\t\t\t\"tags\": \"softtones naturallight observing cockerspaniel pet animal dog\"\t   },\t   {\t\t\t\"title\": \"High key\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/p-aguilera\\/37139300155\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4412\\/37139300155_68ea90cafc_m.jpg\"},\t\t\t\"date_taken\": \"2017-08-28T10:55:19-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/p-aguilera\\/\\\">Piagor<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/p-aguilera\\/37139300155\\/\\\" title=\\\"High key\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4412\\/37139300155_68ea90cafc_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"High key\\\" \\/><\\/a><\\/p> <p>OLYMPUS DIGITAL CAMERA<\\/p>\",\t\t\t\"published\": \"2017-09-10T09:41:13Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Piagor\\\")\",\t\t\t\"author_id\": \"135747396@N07\",\t\t\t\"tags\": \"highkey cockerspaniel dog pets animal blancoynegro olympusem5markii olympus75300mmf4867\"\t   },\t   {\t\t\t\"title\": \"Oli (Explored 09-09-17)\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/schooly1\\/36927706792\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4358\\/36927706792_dfa1efa512_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T15:33:47-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/schooly1\\/\\\">Anthony de Schoolmeester<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/schooly1\\/36927706792\\/\\\" title=\\\"Oli (Explored 09-09-17)\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4358\\/36927706792_dfa1efa512_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Oli (Explored 09-09-17)\\\" \\/><\\/a><\\/p> <p>Oli takes in the view of Gower from Pembrey Dunes over the recent Bank Holiday weekend.<\\/p>\",\t\t\t\"published\": \"2017-09-08T07:25:30Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Anthony de Schoolmeester\\\")\",\t\t\t\"author_id\": \"30447469@N07\",\t\t\t\"tags\": \"oli spaniel cockerspaniel blueroan clouds dog fujixt2 fujinonxf1004004556rlmoiswr pembreycountrypark cefnsidan dunes englishcockerspaniel happydog\"\t   },\t   {\t\t\t\"title\": \"Golden Moment\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/33546386@N03\\/36253885324\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4427\\/36253885324_c8bac42c45_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-03T15:15:59-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/33546386@N03\\/\\\">excellentzebu1050<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/33546386@N03\\/36253885324\\/\\\" title=\\\"Golden Moment\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4427\\/36253885324_c8bac42c45_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Golden Moment\\\" \\/><\\/a><\\/p> <p>hello everyone<br \\/> <br \\/> a smile for you from my sweet Dog Golden Moment !<br \\/> and Thanks for all the comments last days<br \\/> much appreciated<br \\/> greetings all the animals on the farm , Caroline<\\/p>\",\t\t\t\"published\": \"2017-09-07T19:13:54Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"excellentzebu1050\\\")\",\t\t\t\"author_id\": \"33546386@N03\",\t\t\t\"tags\": \"dog doggy cockerspaniel cocker spaniel animal pet animalportraits closeup farm outdoor coth5\"\t   },\t   {\t\t\t\"title\": \"Leia just can't be bothered right now.\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123830\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4331\\/36652123830_808b1210b1_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T21:18:10-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/apardavila\\/\\\">apardavila<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123830\\/\\\" title=\\\"Leia just can't be bothered right now.\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4331\\/36652123830_808b1210b1_m.jpg\\\" width=\\\"240\\\" height=\\\"178\\\" alt=\\\"Leia just can't be bothered right now.\\\" \\/><\\/a><\\/p> <p>Leia just can't be bothered right now.<\\/p>\",\t\t\t\"published\": \"2017-09-05T18:28:53Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"apardavila\\\")\",\t\t\t\"author_id\": \"63704136@N00\",\t\t\t\"tags\": \"americancockerspaniel leia cockerspaniel dog\"\t   },\t   {\t\t\t\"title\": \"Leia just can't be bothered right now.\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36214070574\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4369\\/36214070574_6a61a8e244_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T21:18:08-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/apardavila\\/\\\">apardavila<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36214070574\\/\\\" title=\\\"Leia just can't be bothered right now.\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4369\\/36214070574_6a61a8e244_m.jpg\\\" width=\\\"240\\\" height=\\\"185\\\" alt=\\\"Leia just can't be bothered right now.\\\" \\/><\\/a><\\/p> <p>Leia just can't be bothered right now.<\\/p>\",\t\t\t\"published\": \"2017-09-05T18:28:53Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"apardavila\\\")\",\t\t\t\"author_id\": \"63704136@N00\",\t\t\t\"tags\": \"americancockerspaniel leia cockerspaniel dog\"\t   },\t   {\t\t\t\"title\": \"Leia just can't be bothered right now.\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123900\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4412\\/36652123900_127cc4fcb8_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T21:18:12-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/apardavila\\/\\\">apardavila<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/apardavila\\/36652123900\\/\\\" title=\\\"Leia just can't be bothered right now.\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4412\\/36652123900_127cc4fcb8_m.jpg\\\" width=\\\"240\\\" height=\\\"170\\\" alt=\\\"Leia just can't be bothered right now.\\\" \\/><\\/a><\\/p> <p>Leia just can't be bothered right now.<\\/p>\",\t\t\t\"published\": \"2017-09-05T18:28:52Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"apardavila\\\")\",\t\t\t\"author_id\": \"63704136@N00\",\t\t\t\"tags\": \"americancockerspaniel leia cockerspaniel dog\"\t   },\t   {\t\t\t\"title\": \"Sourpuss\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/36877935822\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4359\\/36877935822_44121dbe5a_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-03T17:01:11-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/pauerkorde\\/\\\">PauerKorde Photo<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/36877935822\\/\\\" title=\\\"Sourpuss\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4359\\/36877935822_44121dbe5a_m.jpg\\\" width=\\\"240\\\" height=\\\"180\\\" alt=\\\"Sourpuss\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-05T18:09:36Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"PauerKorde Photo\\\")\",\t\t\t\"author_id\": \"28445264@N04\",\t\t\t\"tags\": \"canine dog cocker cockerspaniel spaniel obgcockerspanielrescue\"\t   },\t   {\t\t\t\"title\": \"Contemplative\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/37048455415\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4377\\/37048455415_02bc453075_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-03T17:01:27-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/pauerkorde\\/\\\">PauerKorde Photo<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/pauerkorde\\/37048455415\\/\\\" title=\\\"Contemplative\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4377\\/37048455415_02bc453075_m.jpg\\\" width=\\\"180\\\" height=\\\"240\\\" alt=\\\"Contemplative\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-05T18:09:36Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"PauerKorde Photo\\\")\",\t\t\t\"author_id\": \"28445264@N04\",\t\t\t\"tags\": \"canine dog cocker cockerspaniel spaniel obgcockerspanielrescue\"\t   },\t   {\t\t\t\"title\": \"If I only knew what he is thinking\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36192665694\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4405\\/36192665694_aa2fc4ecdf_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-04T19:58:09-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/hverdagsfoto\\/\\\">Christinas_fotografi<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/hverdagsfoto\\/36192665694\\/\\\" title=\\\"If I only knew what he is thinking\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4405\\/36192665694_aa2fc4ecdf_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"If I only knew what he is thinking\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-04T18:59:50Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"Christinas_fotografi\\\")\",\t\t\t\"author_id\": \"65967100@N02\",\t\t\t\"tags\": \"pet dog animal cockerspaniel petphotography\"\t   },\t   {\t\t\t\"title\": \"Oscar\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/freshshoots\\/36186769824\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4411\\/36186769824_987760ce2a_m.jpg\"},\t\t\t\"date_taken\": \"2017-07-07T17:35:43-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/freshshoots\\/\\\">KatrinaW Photography<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/freshshoots\\/36186769824\\/\\\" title=\\\"Oscar\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4411\\/36186769824_987760ce2a_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"Oscar\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-04T14:00:34Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"KatrinaW Photography\\\")\",\t\t\t\"author_id\": \"63462784@N04\",\t\t\t\"tags\": \"chicksands cocker oscar cockerspaniel spaniel dog photography bedfordshire photographer\"\t   },\t   {\t\t\t\"title\": \"Waiting (some more)\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/31234240@N08\\/36163967654\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4349\\/36163967654_f451d68a25_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-02T16:36:30-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/31234240@N08\\/\\\">ameschen<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/31234240@N08\\/36163967654\\/\\\" title=\\\"Waiting (some more)\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4349\\/36163967654_f451d68a25_m.jpg\\\" width=\\\"240\\\" height=\\\"143\\\" alt=\\\"Waiting (some more)\\\" \\/><\\/a><\\/p> <p>I love his paws, holding back the curtains. The curtains, however, and window sill, are not so crazy about it.<br \\/> <br \\/> Jack is a rescue from the Oldies But Goodies Cocker Spaniel Rescue, Newington, Va.<br \\/> <br \\/> jackscreen0902171636e<\\/p>\",\t\t\t\"published\": \"2017-09-03T13:28:30Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"ameschen\\\")\",\t\t\t\"author_id\": \"31234240@N08\",\t\t\t\"tags\": \"cockerspaniel cocker oldiesbutgoodies oldiesbutgoodiescockerspaniel screen\"\t   },\t   {\t\t\t\"title\": \"PupAid 2017: Primrose Hill, London: 02-September 2017\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/asw909\\/36188598563\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4376\\/36188598563_629f748b31_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-02T15:00:01-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/asw909\\/\\\">amodelofcontrol<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/asw909\\/36188598563\\/\\\" title=\\\"PupAid 2017: Primrose Hill, London: 02-September 2017\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4376\\/36188598563_629f748b31_m.jpg\\\" width=\\\"240\\\" height=\\\"160\\\" alt=\\\"PupAid 2017: Primrose Hill, London: 02-September 2017\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-03T10:56:38Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"amodelofcontrol\\\")\",\t\t\t\"author_id\": \"65226395@N00\",\t\t\t\"tags\": \"pupaid2017 primrosehill london dogshow cockerspaniel\"\t   },\t   {\t\t\t\"title\": \"Casper & Rupert\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/boycotts\\/36582886840\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4424\\/36582886840_b41d33857e_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T15:03:29-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/boycotts\\/\\\">iRobbo (aka Boycotts)<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/boycotts\\/36582886840\\/\\\" title=\\\"Casper &amp; Rupert\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4424\\/36582886840_b41d33857e_m.jpg\\\" width=\\\"240\\\" height=\\\"192\\\" alt=\\\"Casper &amp; Rupert\\\" \\/><\\/a><\\/p> \",\t\t\t\"published\": \"2017-09-02T14:29:50Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"iRobbo (aka Boycotts)\\\")\",\t\t\t\"author_id\": \"45227605@N05\",\t\t\t\"tags\": \"casper rupert cockerspaniel hatfieldforest\"\t   },\t   {\t\t\t\"title\": \"Dear old Snoopy\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/150333432@N05\\/36569684730\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4347\\/36569684730_2115b216fc_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T13:33:23-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/150333432@N05\\/\\\">martinblack18<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/150333432@N05\\/36569684730\\/\\\" title=\\\"Dear old Snoopy\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4347\\/36569684730_2115b216fc_m.jpg\\\" width=\\\"240\\\" height=\\\"192\\\" alt=\\\"Dear old Snoopy\\\" \\/><\\/a><\\/p> <p>A great character who has the sweetest nature. Poor chap is having eye trouble at the moment, hope he will soon be fully recovered.<\\/p>\",\t\t\t\"published\": \"2017-09-01T20:57:36Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"martinblack18\\\")\",\t\t\t\"author_id\": \"150333432@N05\",\t\t\t\"tags\": \"cockerspaniel mansbestfriend\"\t   },\t   {\t\t\t\"title\": \"Friends I'm going on holiday to Nana @sandy_butchart for 2 weeks!! I'm excited but mum is sad. I'll probably be a bit quiet for a while \\ud83d\\udc4b\\ud83d\\udc36\\ud83c\\udfe1 #cockerspaniel #holiday\",\t\t\t\"link\": \"https:\\/\\/www.flickr.com\\/photos\\/98036363@N07\\/36956750265\\/\",\t\t\t\"media\": {\"m\":\"https:\\/\\/farm5.staticflickr.com\\/4343\\/36956750265_ca2a1451c1_m.jpg\"},\t\t\t\"date_taken\": \"2017-09-01T03:42:13-08:00\",\t\t\t\"description\": \" <p><a href=\\\"https:\\/\\/www.flickr.com\\/people\\/98036363@N07\\/\\\">gem_needham<\\/a> posted a photo:<\\/p> <p><a href=\\\"https:\\/\\/www.flickr.com\\/photos\\/98036363@N07\\/36956750265\\/\\\" title=\\\"Friends I'm going on holiday to Nana @sandy_butchart for 2 weeks!! I'm excited but mum is sad. I'll probably be a bit quiet for a while \\ud83d\\udc4b\\ud83d\\udc36\\ud83c\\udfe1 #cockerspaniel #holiday\\\"><img src=\\\"https:\\/\\/farm5.staticflickr.com\\/4343\\/36956750265_ca2a1451c1_m.jpg\\\" width=\\\"240\\\" height=\\\"240\\\" alt=\\\"Friends I'm going on holiday to Nana @sandy_butchart for 2 weeks!! I'm excited but mum is sad. I'll probably be a bit quiet for a while \\ud83d\\udc4b\\ud83d\\udc36\\ud83c\\udfe1 #cockerspaniel #holiday\\\" \\/><\\/a><\\/p> <p>via Instagram <a href=\\\"http:\\/\\/ift.tt\\/2gvI6am\\\" rel=\\\"nofollow\\\">ift.tt\\/2gvI6am<\\/a><\\/p>\",\t\t\t\"published\": \"2017-09-01T10:42:13Z\",\t\t\t\"author\": \"nobody@flickr.com (\\\"gem_needham\\\")\",\t\t\t\"author_id\": \"98036363@N07\",\t\t\t\"tags\": \"cockerspaniel\"\t   }        ]}\n";
        String htmlFilePath = "src\\ex49flickrPhotoSearch\\index.html";
        Files.deleteIfExists(Paths.get(htmlFilePath));    //delete any existing html file


        //act
        when(pictureFeedMock.getPictureFeed(search)).thenReturn(staticFeed);
        photos.search(search, pictureFeedMock);

        //assert
        assertTrue(Files.exists(Paths.get(htmlFilePath)));
    }
}